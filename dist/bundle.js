(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const n=function(e){var t=document.getElementById("".concat(e)),n=document.createElement("div");n.style.cssText="font-size: 2rem;";var r=document.createElement("div");r.classList.add("sk-rotating-plane"),r.style.marginTop="20px","form1"===e&&(n.style.cssText="font-size: 2rem;\n                                  color: #fff;",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center");var a=function(e){document.getElementById("".concat(e)).querySelectorAll("input").forEach((function(e){e.value=""}))};t.addEventListener("submit",(function(l){l.preventDefault(),t.append(n),t.append(r);var i=new FormData(t),c={};i.forEach((function(e,t){c[t]=e})),o(c).then((function(o){if(200!==o.status)throw new Error("network status is not 200!");t.innerHTML="",t.append(n),t.append(r),r.classList.remove("sk-rotating-plane"),n.textContent="Форма отправлена! Скоро с вами свяжутся.",a(e)})).catch((function(o){t.innerHTML="",t.append(n),t.append(r),r.classList.remove("sk-rotating-plane"),n.textContent="Возникла ошибка!",a(e),console.error(o)}))}));var o=function(e){return fetch("../server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}};var r,a,o,l,i;i=document.querySelector(".club-select"),document.querySelector(".clubs-list"),i.addEventListener("click",(function(e){e.target.classList.toggle("flag"),e.target.classList.contains("flag")?e.target.nextElementSibling.style.display="block":e.target.nextElementSibling.style.display="none"})),function(){var e=document.querySelector(".right"),t=document.querySelector("#free_visit_form"),n=document.querySelector("#callback_form"),r=document.querySelector(".fixed-gift"),a=document.querySelector("#gift");function o(e){e.addEventListener("click",(function(t){var n=t.target;(n.classList.contains("overlay")||n.classList.contains("close_icon")||n.classList.contains("close-btn"))&&(e.style.display="none")}))}e.addEventListener("click",(function(e){var r=e.target;r.classList.contains("open-popup")&&(t.style.display="block"),r.classList.contains("btn")&&(n.style.display="block"),o(t),o(n)})),r.addEventListener("click",(function(e){r.style.display="none",a.style.display="block",o(a)}))}(),a=document.querySelector(".main-slider").querySelectorAll(".slide"),o=0,l=function(){!function(e,t){e[t].style.display="none"}(a,o),++o>=a.length&&(o=0),function(e,t){e[t].style.display=""}(a,o)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(l,e)}(),r=function(e){return(e=(e=(e=(e=e.trim()).replace(/ +/g," ")).replace(/\-+/g,"-")).replace(/^-/g,"")).replace(/-$/g,"")},document.querySelectorAll("input").forEach((function(t){t.value="",t.addEventListener("input",(function(t){if("name"===t.target.name){var n=t.target.value;t.target.value=n.replace(/[;\+\>\<\*\!\=\.@:\?\,#\$\%^\&\}{\[\]\^\"\\\|\/\_)(\w]/gi,"")}else"phone"===t.target.name&&(console.log(t.target.tagName),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__";function r(e){var t=e.keyCode,r=n,a=r.replace(/\D/g,""),o=this.value.replace(/\D/g,""),l=0,i=r.replace(/[_\d]/g,(function(e){return l<o.length?o.charAt(l++)||a.charAt(l):e}));-1!=(l=i.indexOf("_"))&&(i=i.slice(0,l));var c=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}var a,o=e(document.querySelectorAll(t));try{for(o.s();!(a=o.n()).done;){var l=a.value;l.addEventListener("input",r),l.addEventListener("focus",r),l.addEventListener("blur",r)}}catch(e){o.e(e)}finally{o.f()}}(t.target.tagName.toLowerCase()))})),t.addEventListener("blur",(function(e){if("name"===e.target.name){var t=e.target.value;e.target.value=r(t)[0].toUpperCase()+r(t).slice(1,r(t).length).toLowerCase()}else"phone"===e.target.name&&(e.target.value=r(e.target.value))}))})),n("banner-form"),n("form1"),n("card_order")})();